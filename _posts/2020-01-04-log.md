---
layout: post
title: "2020년 1월 4일 개발로그"
---

__THRESHOLDING__

```
cv.threshold(source, destinatino, threshold, max, type)
```

| source      | input |
| destination | output of the same size, type and channel as source |
| threshold   | threshold value |
| max         | maximum value to use with the cv.THRESH_BINARY and cv.THRESH_BINARY_INT threshold types. |
| type        | thresholding type |

_THRESHOLD TYPE_

- cv.THRESH_BINARY
- cv.THRESH_BINARY_INV
- cv.THRESH_TRUNC
- cv.THRESH_TOZERO
- cv.THRESH_OTSU
- cv.THRESH_TRIANGLE

> cv.THRESH_OTSU 와 cv.THRESH_TRIANGLE 을 적용하려면 이미지 타입을 그레이스케일로 변경해야 합니다. OTSU 같은 경우 그레이스케일로 이진화를 수행하기 때문입니다.

__INPUT__

<img width="200" id="input" src="/assets/images/first.jpg">

__OUTPUT__

<canvas id="output" style="border: 1px solid #000000;"></canvas>

<script>
  function thresholding(type, gray) {
    let o = document.getElementById('input');
    document.getElementById('output').width = o.clientWidth;
    document.getElementById('output').height = o.clientHeight;
    let source = cv.imread('input');
    if(gray) {
      cv.cvtColor(source, source, cv.COLOR_RGBA2GRAY);
    }
    let destination = new cv.Mat();
    cv.threshold(source, destination, 155, 256, type);
    cv.imshow('output', destination);
    source.delete();
    destination.delete();
  }
  dispatch(() => thresholding(cv.THRESH_BINARY));
</script>

<button onclick="dispatch(() => thresholding(cv.THRESH_BINARY))">BINARY</button>
<button onclick="dispatch(() => thresholding(cv.THRESH_TRUNC))">TRUNC</button>
<button onclick="dispatch(() => thresholding(cv.THRESH_TOZERO))">TOZERO</button>
<button onclick="dispatch(() => thresholding(cv.THRESH_OTSU, true))">OTSU</button>
<button onclick="dispatch(() => thresholding(cv.THRESH_TRIANGLE, true))">TRIANGLE</button>
