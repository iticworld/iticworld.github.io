{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./x/js/homeworld2/goblinmesh.js","webpack:///./x/js/homeworld2/joint.js","webpack:///./x/js/homeworld2/multimesh.js","webpack:///./x/js/homeworld2/obj.js","webpack:///./x/js/homeworld2/object.file.js","webpack:///./x/js/homeworld2/singlemesh.js","webpack:///./x/js/index.js","webpack:///./x/js/x/core/executor.js","webpack:///./x/js/x/graphics/application.js","webpack:///./x/js/x/graphics/buffer.js","webpack:///./x/js/x/graphics/camera.js","webpack:///./x/js/x/graphics/complex.js","webpack:///./x/js/x/graphics/indices.js","webpack:///./x/js/x/graphics/light.js","webpack:///./x/js/x/graphics/matrix.js","webpack:///./x/js/x/graphics/obj.js","webpack:///./x/js/x/graphics/objects.js","webpack:///./x/js/x/graphics/primitive.js","webpack:///./x/js/x/graphics/primitives/cube.js","webpack:///./x/js/x/graphics/primitives/triangle.js","webpack:///./x/js/x/graphics/program.js","webpack:///./x/js/x/graphics/projection.js","webpack:///./x/js/x/graphics/shader.js","webpack:///./x/js/x/graphics/surface.js","webpack:///./x/js/x/graphics/vector.js","webpack:///./x/js/x/graphics/vertex.js","webpack:///./x/js/x/graphics/vertices.js"],"names":["Goblinmesh","name","parent","status","__singlemesh","__parent","gl","model","level","render","init","o","__status","v","__name","Obj","Joint","position","rotation","scale","axis","freedom","__position","__rotation","__scale","__axis","__freedom","__children","Map","__objects","Array","__model","Matrix","identity","translate","rotate","forEach","Multimesh","singlemesh","index","Homeworld2Object","__version","__category","__materials","__textures","__multimesh","__goblinmesh","__joints","__root","console","log","version","category","multimesh","goblinmesh","__program","__buffer","__vertices","mode","target","usage","ObjectFile","path","application","Promise","resolve","reject","w","Worker","postMessage","onmessage","event","data","material","texture","enable","children","_singlemesh","Singlemesh","primitives","_primitive","primitive","Primitive","Buffer","targetFromStr","usageFromStr","Vertices","modeFromStr","program","programs","get","vertices","set","buffer","indices","add","joints","_joint","joint","engineshape","engineburn","navlights","marker","boundary","collision","basicmesh","information","finish","error","terminate","Error","root","objects","push","__level","Complex","dispatch","Shader","load","fragment","none","vertex","Program","execute","then","results","run","e","Executor","__queue","all","Application","__x","__y","__width","__height","__shaders","__programs","__surface","Objects","__major","__minor","__mode","canvas","document","createElement","width","body","clientWidth","height","clientHeight","appendChild","Surface","create","viewport","clearColor","background","clear","COLOR_BUFFER_BIT","COLOR_DEPTH_BIT","s","array","statical","draw","ARRAY_BUFFER","STATIC_DRAW","__data","__target","__usage","__id","createBuffer","bindBuffer","getTarget","bufferData","getUsage","length","Camera","__center","__up","__matrix","Indices","__indices","Uint16Array","ELEMENT_ARRAY_BUFFER","Light","__color","__ambient","m","result","i","eye","center","up","f","Vector","normalize","minus","cross","u","dot","fovy","aspect","near","far","half","Math","tan","zero","x","y","deepcopy","angle","c","cos","sin","temp","multiply","size","serialize","useProgram","id","uniforms","value","projection","perspective","view","lookat","mvp","uniformMatrix4fv","Float32Array","uniform4fv","uniform1f","attributes","enableVertexAttribArray","bind","vertexAttribPointer","FLOAT","Vertex","stride","drawElements","TRIANGLES","UNSIGNED_SHORT","drawArrays","Cube","triangle","Triangle","shaders","__uniforms","map","__attributes","createProgram","attach","linkProgram","getProgramParameter","LINK_STATUS","detach","getAttribLocation","getUniformLocation","Projection","__fovy","__aspect","__near","__far","type","shader","code","VERTEX_SHADER","FRAGMENT_SHADER","compute","geometry","tessellation","__type","__code","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","attachShader","deleteShader","__canvas","__context","__background","__references","__light","__camera","__projection","style","backgroundColor","getContext","DEPTH_TEST","depthFunc","LESS","BLEND","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","__degree","__radian","sqrt","normal","color","tangent","binormal","__adjacency","total","concat"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./x/js/index.js\");\n","import Obj from '../x/graphics/obj.js';\n\nexport default class Goblinmesh extends Obj\n{\n    constructor(name, parent, status)\n    {\n        super(name, 0, status);\n\n        this.__singlemesh = null;\n        this.__parent = parent;\n    }\n\n    get singlemesh(){ return this.__singlemesh; }\n    get status(){ return this.__status; }\n    get name(){ return this.__name; }\n    get parent(){ return this.__parent; }\n\n    set singlemesh(o){ this.__singlemesh = o; }\n\n    set status(v)\n    {\n        this.__status = v;\n        this.__singlemesh.status = v;\n    }\n\n    render(gl, model, level)\n    {\n        this.__singlemesh.render(gl, model, level);\n\n    }\n\n    init(gl)\n    {\n        this.__singlemesh.init(gl);\n    }\n}\n","import Matrix from '../x/graphics/matrix.js';\n\nexport default class Joint\n{\n    constructor(name, parent, position, rotation, scale, axis, freedom)\n    {\n        this.__name = name;\n        this.__parent = parent;\n        this.__position = position;\n        this.__rotation = rotation;\n        this.__scale = scale;\n        this.__axis = axis;\n        this.__freedom = freedom;\n        this.__children = new Map();\n        this.__objects = new Array();\n        this.__model = Matrix.identity();\n    }\n\n    get name(){ return this.__name; }\n    get parent(){ return this.__parent; }\n    get children(){ return this.__children; }\n    get objects(){ return this.__objects; }\n\n    render(gl, model, level)\n    {\n        this.__model = Matrix.translate(model, this.__position);\n        if(this.__axis[0] !== 0)\n        {\n            this.__model = Matrix.rotate(this.__model, this.__axis[0], [1, 0, 0, 0]);\n        }\n        if(this.__axis[1] !== 0)\n        {\n            this.__model = Matrix.rotate(this.__model, this.__axis[1], [0, 1, 0, 0]);\n        }\n        if(this.__axis[2] !== 0)\n        {\n            this.__model = Matrix.rotate(this.__model, this.__axis[2], [0, 0, 1, 0]);\n        }\n\n        if(this.__rotation[1] !== 0)\n        {\n            this.__model = Matrix.rotate(this.__model, (this.__position[0] > 0 ? this.__rotation[1] : -this.__rotation[1]), [1, 0, 0, 0]);\n        }\n        if(this.__rotation[0] !== 0)\n        {\n            this.__model = Matrix.rotate(this.__model, this.__rotation[0], [0, 1, 0, 0]);\n        }\n        if(this.__rotation[2] !== 0)\n        {\n            this.__model = Matrix.rotate(this.__model, this.__rotation[2], [0, 0, 1, 0]);\n        }\n\n        this.__model = Matrix.scale(this.__model, this.__scale);\n\n        this.__objects.forEach(o => {\n            o.render(gl, this.__model, level);\n        });\n        this.__children.forEach(o => {\n            o.render(gl, this.__model, level);\n        });\n    }\n}\n","import Obj from '../x/graphics/obj.js';\n\nexport default class Multimesh extends Obj\n{\n    constructor(name, parent, status)\n    {\n        super(name, 0, status);\n        this.__parent = parent;\n        this.__singlemesh = new Map();\n    }\n\n    get singlemesh(){ return this.__singlemesh; }\n    get status(){ return this.__status; }\n    get name(){ return this.__name; }\n    get parent(){ return this.__parent; }\n\n    set status(v)\n    {\n        this.__status = v;\n        this.__singlemesh.forEach(singlemesh => { singlemesh.status = v; });\n    }\n\n    render(gl, model, level)\n    {\n        this.__singlemesh.forEach((singlemesh, index) => {\n            if(level === index)\n            {\n                singlemesh.render(gl, model, level);\n            }\n        });\n    }\n\n    init(gl)\n    {\n        this.__singlemesh.forEach(singlemesh => {\n            singlemesh.init(gl);\n        });\n    }\n}\n","import Obj from '../x/graphics/obj.js';\nimport Matrix from '../x/graphics/matrix.js';\n\nexport default class Homeworld2Object extends Obj\n{\n    constructor(name, level, status)\n    {\n        super(name, level, status);\n        this.__version = 0;\n        this.__category = \"\";\n        this.__materials = new Map();\n        this.__textures = new Map();\n        this.__multimesh = new Map();\n        this.__goblinmesh = new Map();\n        this.__joints = new Map();\n        this.__root = null;\n    }\n\n    init(gl) {\n        console.log(\"homeworld2 object init\");\n        console.log({version: this.__version, category: this.__category});\n\n        this.__multimesh.forEach(multimesh => {\n            multimesh.init(gl);\n        });\n\n        this.__goblinmesh.forEach(goblinmesh => {\n            goblinmesh.init(gl);\n        });\n    }\n\n    get name() { return this.__name; }\n    get program() { return this.__program; }\n    get buffer(){ return this.__buffer; }\n    get multimesh(){ return this.__multimesh; }\n    get goblinmesh(){ return this.__goblinmesh; }\n    get joints(){ return this.__joints; }\n\n    set mode(v){ this.__vertices.mode = v; }\n    set target(v){ this.__buffer.target = v; }\n    set usage(v){ this.__buffer.usage = v; }\n    set program(o){ this.__program = o; }\n    set root(o){ this.__root = o; }\n\n    render(gl)\n    {\n        this.__root.render(gl, Matrix.identity(), 0);\n\n        // this.__multimesh.forEach(multimesh => {\n        //     multimesh.render(gl);\n        // });\n        // this.__goblinmesh.forEach(goblinmesh => {\n        //     goblinmesh.render(gl);\n        // });\n    }\n}\n","import Homeworld2Object from './obj.js';\nimport Multimesh from './multimesh.js';\nimport Goblinmesh from './goblinmesh.js';\nimport Singlemesh from './singlemesh.js';\nimport Primitive from '../x/graphics/primitive.js';\nimport Obj from '../x/graphics/obj.js';\nimport Buffer from '../x/graphics/buffer.js';\nimport Vertices from '../x/graphics/vertices.js';\nimport Joint from './joint.js';\n\nexport default class ObjectFile\n{\n    static load(path, name, application)\n    {\n        return new Promise((resolve, reject) => {\n            let w = new Worker('/js/homeworld2/object.unpack.js');\n            let o = new Homeworld2Object(name, 0, 1);\n\n            w.postMessage({path});\n            w.onmessage = (event) => {\n                if(event.data.version)\n                {\n                    o.__version = event.data.version;\n                }\n                else if(event.data.category)\n                {\n                    o.__category = event.data.category;\n                }\n                else if(event.data.material)\n                {\n                    // TODO: DATA TO MATERIAL CLASS\n                    // o.__materials.set(event.data.material.name, event.data.material);\n                }\n                else if(event.data.texture)\n                {\n                    // TODO: DATA TO TEXTURE CLASS\n                    // o.__textures.set(event.data.texture.name, event.data.texture);\n                }\n                else if(event.data.multimesh)\n                {\n                    let multimesh = new Multimesh(event.data.multimesh.name, event.data.multimesh.parent, Obj.enable);\n                    event.data.multimesh.children.forEach(_singlemesh => {\n                        let singlemesh = new Singlemesh(_singlemesh.level, multimesh.status);\n                        _singlemesh.primitives.forEach(_primitive => {\n                            let primitive = new Primitive(\"\", _singlemesh.level, multimesh.status);\n                            primitive.target = Buffer.targetFromStr(_primitive.target);\n                            primitive.usage = Buffer.usageFromStr(_primitive.usage);\n                            primitive.mode = Vertices.modeFromStr(_primitive.mode);\n                            primitive.program = application.programs.get(_primitive.program);\n                            primitive.vertices.set(_primitive.vertices);\n                            primitive.buffer.data = _primitive.data;\n                            primitive.indices = _primitive.indices;\n                            singlemesh.add(primitive);\n                        });\n                        multimesh.singlemesh.set(singlemesh.level, singlemesh);\n                    });\n                    o.multimesh.set(multimesh.name, multimesh);\n                    // if(multimesh.name === \"Root_mesh\")\n                    // {\n                    //     multimesh.status = Obj.enable;\n                    // }\n                    //\n                    // if(multimesh.name === \"Weapon_BigGun_Position_mesh\")\n                    // {\n                    //     multimesh.status = Obj.enable;\n                    // }\n                }\n                else if(event.data.goblinmesh)\n                {\n                    let goblinmesh = new Goblinmesh(event.data.goblinmesh.name, event.data.goblinmesh.parent, Obj.enable);\n                    goblinmesh.singlemesh = new Singlemesh(event.data.goblinmesh.singlemesh.level, goblinmesh.status);\n                    event.data.goblinmesh.singlemesh.primitives.forEach(_primitive => {\n                        let primitive = new Primitive(\"\", event.data.goblinmesh.singlemesh.level, goblinmesh.status);\n                        primitive.target = Buffer.targetFromStr(_primitive.target);\n                        primitive.usage = Buffer.usageFromStr(_primitive.usage);\n                        primitive.mode = Vertices.modeFromStr(_primitive.mode);\n                        primitive.program = application.programs.get(_primitive.program);\n                        primitive.vertices.set(_primitive.vertices);\n                        primitive.buffer.data = _primitive.data;\n                        primitive.indices = _primitive.indices;\n                        goblinmesh.singlemesh.add(primitive);\n                    });\n                    o.goblinmesh.set(goblinmesh.name, goblinmesh);\n                }\n                else if(event.data.joints)\n                {\n                    event.data.joints.forEach(_joint => {\n                        let joint = new Joint(_joint.name,\n                                          _joint.parent,\n                                          _joint.position,\n                                          _joint.rotation,\n                                          _joint.scale,\n                                          _joint.axis,\n                                          _joint.freedom);\n                        o.joints.set(joint.name, joint);\n                    });\n                }\n                else if(event.data.engineshape)\n                {\n                    // console.log({engineshape: event.data.engineshape});\n                }\n                else if(event.data.engineburn)\n                {\n                    // console.log({engineburn: event.data.engineburn});\n                }\n                else if(event.data.navlights)\n                {\n                    // console.log({navlights: event.data.navlights});\n                }\n                else if(event.data.marker)\n                {\n                    // console.log({marker: event.data.marker});\n                }\n                else if(event.data.boundary)\n                {\n                    // console.log({boundary: event.data.boundary});\n                }\n                else if(event.data.collision)\n                {\n                    // console.log({collision: event.data.collision});\n                }\n                else if(event.data.basicmesh)\n                {\n                    // console.log({basicmesh: event.data.basicmesh});\n                }\n                else if(event.data.information)\n                {\n                    // console.log({information: event.data.information});\n                }\n                else if(event.data.finish)\n                {\n                    if(event.data.error)\n                    {\n                        w.terminate();\n                        w = null;\n                        reject(new Error(event.data.error));\n                    }\n                    else\n                    {\n                        console.log({multimesh: o.multimesh});\n                        console.log(\"finish\");\n                        o.joints.forEach(joint => {\n                            if(joint.parent === '')\n                            {\n                                o.root = joint;\n                            }\n                            else\n                            {\n                                let parent = o.joints.get(joint.parent);\n                                parent.children.set(joint.name, joint);\n                            }\n                        });\n                        o.multimesh.forEach(multimesh => {\n                            let parent = o.joints.get(multimesh.parent);\n                            parent.objects.push(multimesh);\n                        });\n                        o.goblinmesh.forEach(goblinmesh => {\n                            let parent = o.joints.get(goblinmesh.parent);\n                            parent.objects.push(goblinmesh);\n                        });\n                        w.terminate();\n                        w = null;\n                        application.objects.add(o);\n                        resolve(o);\n                    }\n                }\n            };\n        });\n    }\n}\n","import Complex from '../x/graphics/complex.js';\nimport Obj from '../x/graphics/complex.js';\n\nexport default class Singlemesh extends Complex\n{\n    constructor(level, status)\n    {\n        super(\"\", level, status);\n    }\n\n    get level(){ return this.__level; }\n\n    set status(v)\n    {\n        this.__status = v;\n        this.__children.forEach(o => o.status = v);\n    }\n}\n","import application from './x/graphics/application.js';\nimport ObjectFile from './homeworld2/object.file.js';\nimport Vertex from './x/graphics/vertex.js';\nimport Shader from './x/graphics/shader.js';\nimport Program from './x/graphics/program.js';\nimport Cube from './x/graphics/primitives/cube.js';\nimport Triangle from './x/graphics/primitives/triangle.js';\nimport Matrix from './x/graphics/matrix.js';\n\nconsole.log(Matrix.scale(Matrix.identity(), [2, 2, 2, 0]));\nconsole.log(Matrix.translate(Matrix.identity(), [2, 2, 2, 0]));\nconsole.log(Matrix.rotate(Matrix.identity(), 45 * 0.01745329251994329576923690768489, [0, 1, 0, 0]));\n\napplication.init();\n\napplication.dispatch(Shader.load(\"/shader/simple.fragment.shader\", \"simple fragment\", Shader.fragment, Shader.none, application));\napplication.dispatch(Shader.load(\"/shader/simple.vertex.shader\", \"simple vertex\", Shader.vertex, Shader.none, application));\napplication.dispatch(Shader.load(\"/shader/standard.fragment.shader\", \"standard fragment\", Shader.fragment, Shader.none, application));\napplication.dispatch(Shader.load(\"/shader/standard.vertex.shader\", \"standard vertex\", Shader.vertex, Shader.none, application));\n\napplication.dispatch(Program.load(\"standard\", [\"standard fragment\", \"standard vertex\"], [\"mvp\", \"cameraPos\", \"lightColor\", \"lightPos\", \"ambientStrength\"], [\"vertexPosition\", \"vertexNormal\"], application));\napplication.dispatch(Program.load(\"simple\", [\"simple fragment\", \"simple vertex\"], [], [\"vertexPosition\"], application));\n\n// application.dispatch(Triangle.load(\"triangle\", \"simple\", application));\n// application.dispatch(Cube.load(\"cube\", \"standard\", application));\napplication.dispatch(ObjectFile.load(\"/sample.hod\", \"sample\", application));\n\napplication.execute()\n    .then(results => application.run())\n    .catch(e => console.log(e));\n\nconsole.log(\"hello world\");\n","\nexport default class Executor\n{\n    constructor()\n    {\n        this.__queue = null;\n    }\n\n    dispatch(o)\n    {\n        if(o)\n        {\n            this.__queue = this.__queue || [];\n            this.__queue.push(o);\n        }\n    }\n\n    execute()\n    {\n        if(this.__queue)\n        {\n            return Promise.all(this.__queue);\n        }\n        return Promise.reject(new Error());\n    }\n}\n","import Surface from './surface.js';\nimport Executor from '../core/executor.js';\nimport Objects from './objects.js';\n\nclass Application extends Executor\n{\n    constructor()\n    {\n        super();\n\n        this.__x = 0;\n        this.__y = 0;\n        this.__width = 0;\n        this.__height = 0;\n        this.__name = \"\";\n        this.__shaders = new Map();\n        this.__programs = new Map();\n        this.__surface = null;\n        this.__objects = new Objects();\n        this.__major = 4;\n        this.__minor = 5;\n        this.__mode = 0;\n    }\n\n    init()\n    {\n        // create canvas and\n        if(!this.__surface)\n        {\n            let canvas = document.createElement(\"canvas\");\n            canvas.width = document.body.clientWidth;\n            canvas.height = document.body.clientHeight;\n            document.body.appendChild(canvas);\n            this.__surface = new Surface(canvas);\n            this.__surface.init();\n        }\n    }\n\n    run()\n    {\n        this.__programs.forEach(program => {\n            program.create(this.__surface.gl, this);\n        });\n        console.log(this.__objects);\n        this.__objects.init(this.__surface.gl);\n        this.render();\n    }\n\n    render()\n    {\n        console.log(\"application render\");\n        this.gl.viewport(0, 0, this.gl.canvas.width, this.gl.canvas.height);\n        this.gl.clearColor(this.background[0], this.background[1], this.background[2], this.background[3]);\n        this.gl.clear(this.gl.COLOR_BUFFER_BIT | this.gl.COLOR_DEPTH_BIT);\n        this.__objects.render(this.gl);\n    }\n\n    shader(o)\n    {\n        this.__shaders.set(o.name, o);\n        return o;\n    }\n\n    get gl() { return this.__surface.gl; }\n    get programs() { return this.__programs; }\n    get shaders(){ return this.__shaders; }\n    get objects(){ return this.__objects; }\n    get background() { return this.__surface.background; }\n}\n\nlet application = new Application();\n\nexport { application as default };\n","\nexport default class Buffer\n{\n    static get none() { return 0; }\n    static get array() { return 1; }\n    static get atomic_counter() { return 2; }\n    static get copy_read() { return 3; }\n    static get copy_write() { return 4; }\n    static get dispatch_indirect() { return 5; }\n    static get draw_indirect() { return 6; }\n    static get element_array() { return 7; }\n    static get pixel_pack() { return 8; }\n    static get pixel_unpack() { return 9; }\n    static get query() { return 10; }\n    static get shader_storage() { return 11; }\n    static get texture() { return 12; }\n    static get transform_feedback() { return 13; }\n    static get uniform() { return 14; }\n\n    static get stream(){ return 1; }\n    static get statical(){ return 2; }\n    static get dynamical(){ return 3; }\n\n    static get draw(){ return 1; }\n    static get read(){ return 2; }\n    static get copy(){ return 3; }\n\n    static targetFromStr(s)\n    {\n        if(s === \"array\")\n        {\n            s = Buffer.array;\n        }\n        else\n        {\n            throw new Error();\n        }\n        return s;\n    }\n\n    static usageFromStr(s)\n    {\n        if(s[0] === \"statical\")\n        {\n            s[0] = Buffer.statical;\n        }\n        else\n        {\n            throw new Error();\n        }\n\n        if(s[1] === \"draw\")\n        {\n            s[1] = Buffer.draw;\n        }\n        else\n        {\n            throw new Error();\n        }\n\n        return s;\n    }\n\n    static getTarget(gl, target)\n    {\n        switch(target)\n        {\n            case Buffer.array:  return gl.ARRAY_BUFFER;\n            default:            throw new Error();\n        }\n    }\n\n    static getUsage(gl, usage)\n    {\n        switch(usage[0])\n        {\n            case Buffer.statical:   switch(usage[1])\n                                    {\n                                    case Buffer.draw:   return gl.STATIC_DRAW;\n                                    default:            throw new Error();\n                                    }\n            default:                throw new Error();\n        }\n    }\n\n    constructor()\n    {\n        this.__data = null;\n        this.__target = Buffer.none;\n        this.__usage = [Buffer.none, Buffer.none];\n        this.__id = 0;\n    }\n\n    set target(v){ this.__target = v; }\n    set usage(v){ this.__usage = v; }\n    set data(v){ this.__data = v; }\n\n    get data() { return this.__data; }\n    get size() { return this.__data ? this.__data.length : 0; }\n\n    init(gl)\n    {\n        if(!this.__id)\n        {\n            this.__id = gl.createBuffer();\n            gl.bindBuffer(Buffer.getTarget(gl, this.__target), this.__id);\n            gl.bufferData(Buffer.getTarget(gl, this.__target), this.__data, Buffer.getUsage(gl, this.__usage));\n        }\n    }\n\n    bind(gl)\n    {\n        gl.bindBuffer(Buffer.getTarget(gl, this.__target), this.__id);\n    }\n}\n","\nexport default class Camera\n{\n    constructor() {\n        this.__center = [];\n        this.__up = [];\n        this.__position = [];\n        this.__matrix = [];\n//         protected:  x::graphics::vector __center;\n// protected:  x::graphics::vector __up;\n// protected:  x::graphics::vector __position;\n// protected:  x::graphics::matrix __matrix;\n    }\n}\n","import Obj from './obj.js';\n\nexport default class Complex extends Obj\n{\n    constructor(name, level, status)\n    {\n        super(name, level, status);\n\n        this.__children = new Array();\n    }\n\n    add(o)\n    {\n        this.__children.push(o);\n    }\n\n    set status(v)\n    {\n        this.__status = v;\n        this.__children.forEach(o => { o.status = v; });\n    }\n\n    render(gl, model, level)\n    {\n        this.__children.forEach(o => {\n            o.render(gl, model, level);\n        });\n    }\n\n    init(gl) {\n        this.__children.forEach(o => {\n            o.init(gl);\n        });\n    }\n}\n","\nexport default class Indices\n{\n    constructor(indices)\n    {\n        this.__data = null;\n        this.__id = null;\n        this.__indices = indices;\n    }\n\n    init(gl)\n    {\n        if(this.__indices)\n        {\n            if(!this.__id)\n            {\n                if(!this.__data)\n                {\n                    this.__data = new Uint16Array(this.__indices);\n                }\n                this.__id = gl.createBuffer();\n                gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.__id);\n                gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.__data, gl.STATIC_DRAW);\n            }\n        }\n    }\n\n    bind(gl)\n    {\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.__id);\n    }\n\n    get size() { return this.__indices.length; }\n}\n","\nexport default class Light\n{\n    constructor() {\n        this.__position = [ 0, 0, 0, 0];\n        this.__color = [1, 1, 1, 1];\n        this.__ambient = 1;\n    }\n}\n","import Vector from './vector.js';\n\nexport default class Matrix\n{\n    static identity()\n    {\n        return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n    }\n\n    static zero()\n    {\n        return [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    }\n\n    static deepcopy(m)\n    {\n        let result = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for(let i = 0; i < result.length; i++)\n        {\n            result[i] = m[i];\n        }\n        return result;\n    }\n\n    static lookat(eye, center, up)\n    {\n        let f = Vector.normalize(Vector.minus(center, eye));\n        let s = Vector.normalize(Vector.cross(f, up));\n        let u = Vector.cross(s, f);\n        let result = Matrix.identity();\n        result[0 * 4 + 0] =  s[0];\n        result[1 * 4 + 0] =  s[1];\n        result[2 * 4 + 0] =  s[2];\n        result[0 * 4 + 1] =  u[0];\n        result[1 * 4 + 1] =  u[1];\n        result[2 * 4 + 1] =  u[2];\n        result[0 * 4 + 2] = -f[0];\n        result[1 * 4 + 2] = -f[1];\n        result[2 * 4 + 2] = -f[2];\n        result[3 * 4 + 0] = -Vector.dot(s, eye);\n        result[3 * 4 + 1] = -Vector.dot(u, eye);\n        result[3 * 4 + 2] =  Vector.dot(f, eye);\n        return result;\n    }\n\n    static perspective(fovy, aspect, near, far)\n    {\n        let half = Math.tan(fovy / 2.0);\n        let result = Matrix.zero();\n        result[        0] = 1.0 / (aspect * half);\n        result[    4 + 1] = 1.0 / half;\n        result[2 * 4 + 2] = (far + near) / (near - far);\n        result[2 * 4 + 3] = -1.0;\n        result[3 * 4 + 2] = -(2.0 * far * near) / (far - near);\n        return result;\n    }\n\n    static multiply(x, y)\n    {\n        let result = Matrix.zero();\n        result[0 * 4 + 0] = x[0 * 4 + 0] * y[0 * 4 + 0] + x[0 * 4 + 1] * y[1 * 4 + 0] + x[0 * 4 + 2] * y[2 * 4 + 0] + x[0 * 4 + 3] * y[3 * 4 + 0];\n        result[0 * 4 + 1] = x[0 * 4 + 0] * y[0 * 4 + 1] + x[0 * 4 + 1] * y[1 * 4 + 1] + x[0 * 4 + 2] * y[2 * 4 + 1] + x[0 * 4 + 3] * y[3 * 4 + 1];\n        result[0 * 4 + 2] = x[0 * 4 + 0] * y[0 * 4 + 2] + x[0 * 4 + 1] * y[1 * 4 + 2] + x[0 * 4 + 2] * y[2 * 4 + 2] + x[0 * 4 + 3] * y[3 * 4 + 2];\n        result[0 * 4 + 3] = x[0 * 4 + 0] * y[0 * 4 + 3] + x[0 * 4 + 1] * y[1 * 4 + 3] + x[0 * 4 + 2] * y[2 * 4 + 3] + x[0 * 4 + 3] * y[3 * 4 + 3];\n\n        result[1 * 4 + 0] = x[1 * 4 + 0] * y[0 * 4 + 0] + x[1 * 4 + 1] * y[1 * 4 + 0] + x[1 * 4 + 2] * y[2 * 4 + 0] + x[1 * 4 + 3] * y[3 * 4 + 0];\n        result[1 * 4 + 1] = x[1 * 4 + 0] * y[0 * 4 + 1] + x[1 * 4 + 1] * y[1 * 4 + 1] + x[1 * 4 + 2] * y[2 * 4 + 1] + x[1 * 4 + 3] * y[3 * 4 + 1];\n        result[1 * 4 + 2] = x[1 * 4 + 0] * y[0 * 4 + 2] + x[1 * 4 + 1] * y[1 * 4 + 2] + x[1 * 4 + 2] * y[2 * 4 + 2] + x[1 * 4 + 3] * y[3 * 4 + 2];\n        result[1 * 4 + 3] = x[1 * 4 + 0] * y[0 * 4 + 3] + x[1 * 4 + 1] * y[1 * 4 + 3] + x[1 * 4 + 2] * y[2 * 4 + 3] + x[1 * 4 + 3] * y[3 * 4 + 3];\n\n        result[2 * 4 + 0] = x[2 * 4 + 0] * y[0 * 4 + 0] + x[2 * 4 + 1] * y[1 * 4 + 0] + x[2 * 4 + 2] * y[2 * 4 + 0] + x[2 * 4 + 3] * y[3 * 4 + 0];\n        result[2 * 4 + 1] = x[2 * 4 + 0] * y[0 * 4 + 1] + x[2 * 4 + 1] * y[1 * 4 + 1] + x[2 * 4 + 2] * y[2 * 4 + 1] + x[2 * 4 + 3] * y[3 * 4 + 1];\n        result[2 * 4 + 2] = x[2 * 4 + 0] * y[0 * 4 + 2] + x[2 * 4 + 1] * y[1 * 4 + 2] + x[2 * 4 + 2] * y[2 * 4 + 2] + x[2 * 4 + 3] * y[3 * 4 + 2];\n        result[2 * 4 + 3] = x[2 * 4 + 0] * y[0 * 4 + 3] + x[2 * 4 + 1] * y[1 * 4 + 3] + x[2 * 4 + 2] * y[2 * 4 + 3] + x[2 * 4 + 3] * y[3 * 4 + 3];\n\n        result[3 * 4 + 0] = x[3 * 4 + 0] * y[0 * 4 + 0] + x[3 * 4 + 1] * y[1 * 4 + 0] + x[3 * 4 + 2] * y[2 * 4 + 0] + x[3 * 4 + 3] * y[3 * 4 + 0];\n        result[3 * 4 + 1] = x[3 * 4 + 0] * y[0 * 4 + 1] + x[3 * 4 + 1] * y[1 * 4 + 1] + x[3 * 4 + 2] * y[2 * 4 + 1] + x[3 * 4 + 3] * y[3 * 4 + 1];\n        result[3 * 4 + 2] = x[3 * 4 + 0] * y[0 * 4 + 2] + x[3 * 4 + 1] * y[1 * 4 + 2] + x[3 * 4 + 2] * y[2 * 4 + 2] + x[3 * 4 + 3] * y[3 * 4 + 2];\n        result[3 * 4 + 3] = x[3 * 4 + 0] * y[0 * 4 + 3] + x[3 * 4 + 1] * y[1 * 4 + 3] + x[3 * 4 + 2] * y[2 * 4 + 3] + x[3 * 4 + 3] * y[3 * 4 + 3];\n        return result;\n    }\n\n    static translate(m, v)\n    {\n        let result = Matrix.deepcopy(m);\n\n        result[3 * 4 + 0] = m[0 * 4 + 0] * v[0] + m[1 * 4 + 0] * v[1] + m[2 * 4 + 0] * v[2] + m[3 * 4 + 0];\n        result[3 * 4 + 1] = m[0 * 4 + 1] * v[0] + m[1 * 4 + 1] * v[1] + m[2 * 4 + 1] * v[2] + m[3 * 4 + 1];\n        result[3 * 4 + 2] = m[0 * 4 + 2] * v[0] + m[1 * 4 + 2] * v[1] + m[2 * 4 + 2] * v[2] + m[3 * 4 + 2];\n        result[3 * 4 + 3] = m[0 * 4 + 3] * v[0] + m[1 * 4 + 3] * v[1] + m[2 * 4 + 3] * v[2] + m[3 * 4 + 3];\n        return result;\n    }\n\n    static rotate(m, angle, v)\n    {\n        let c = Math.cos(angle);\n        let s = Math.sin(angle);\n        let axis = Vector.normalize(v);\n        let temp = Vector.multiply(axis, (1 - c));\n        let rotation = Matrix.zero();\n\n        rotation[0 * 4 + 0] = c + temp[0] * axis[0];\n        rotation[0 * 4 + 1] = temp[0] * axis[1] + s * axis[2];\n        rotation[0 * 4 + 2] = temp[0] * axis[2] - s * axis[1];\n\n        rotation[1 * 4 + 0] = temp[1] * axis[0] - s * axis[2];\n        rotation[1 * 4 + 1] = c + temp[1] * axis[1];\n        rotation[1 * 4 + 2] = temp[1] * axis[2] + s * axis[0];\n\n        rotation[2 * 4 + 0] = temp[2] * axis[0] + s * axis[1];\n        rotation[2 * 4 + 1] = temp[2] * axis[1] - s * axis[0];\n        rotation[2 * 4 + 2] = c + temp[2] * axis[2];\n\n        let result = Matrix.zero();\n\n        result[0 * 4 + 0] = m[0 * 4 + 0] * rotation[0 * 4 + 0] + m[1 * 4 + 0] * rotation[0 * 4 + 1] + m[2 * 4 + 0] * rotation[0 * 4 + 2];\n        result[0 * 4 + 1] = m[0 * 4 + 1] * rotation[0 * 4 + 0] + m[1 * 4 + 1] * rotation[0 * 4 + 1] + m[2 * 4 + 1] * rotation[0 * 4 + 2];\n        result[0 * 4 + 2] = m[0 * 4 + 2] * rotation[0 * 4 + 0] + m[1 * 4 + 2] * rotation[0 * 4 + 1] + m[2 * 4 + 2] * rotation[0 * 4 + 2];\n        result[0 * 4 + 3] = m[0 * 4 + 3] * rotation[0 * 4 + 0] + m[1 * 4 + 3] * rotation[0 * 4 + 1] + m[2 * 4 + 3] * rotation[0 * 4 + 2];\n\n        result[1 * 4 + 0] = m[0 * 4 + 0] * rotation[1 * 4 + 0] + m[1 * 4 + 0] * rotation[1 * 4 + 1] + m[2 * 4 + 0] * rotation[1 * 4 + 2];\n        result[1 * 4 + 1] = m[0 * 4 + 1] * rotation[1 * 4 + 0] + m[1 * 4 + 1] * rotation[1 * 4 + 1] + m[2 * 4 + 1] * rotation[1 * 4 + 2];\n        result[1 * 4 + 2] = m[0 * 4 + 2] * rotation[1 * 4 + 0] + m[1 * 4 + 2] * rotation[1 * 4 + 1] + m[2 * 4 + 2] * rotation[1 * 4 + 2];\n        result[1 * 4 + 3] = m[0 * 4 + 3] * rotation[1 * 4 + 0] + m[1 * 4 + 3] * rotation[1 * 4 + 1] + m[2 * 4 + 3] * rotation[1 * 4 + 2];\n\n        result[2 * 4 + 0] = m[0 * 4 + 0] * rotation[2 * 4 + 0] + m[1 * 4 + 0] * rotation[2 * 4 + 1] + m[2 * 4 + 0] * rotation[2 * 4 + 2];\n        result[2 * 4 + 1] = m[0 * 4 + 1] * rotation[2 * 4 + 0] + m[1 * 4 + 1] * rotation[2 * 4 + 1] + m[2 * 4 + 1] * rotation[2 * 4 + 2];\n        result[2 * 4 + 2] = m[0 * 4 + 2] * rotation[2 * 4 + 0] + m[1 * 4 + 2] * rotation[2 * 4 + 1] + m[2 * 4 + 2] * rotation[2 * 4 + 2];\n        result[2 * 4 + 3] = m[0 * 4 + 3] * rotation[2 * 4 + 0] + m[1 * 4 + 3] * rotation[2 * 4 + 1] + m[2 * 4 + 3] * rotation[2 * 4 + 2];\n\n        result[3 * 4 + 0] = m[3 * 4 + 0];\n        result[3 * 4 + 1] = m[3 * 4 + 1];\n        result[3 * 4 + 2] = m[3 * 4 + 2];\n        result[3 * 4 + 3] = m[3 * 4 + 3];\n\n        return result;\n    }\n\n    static scale(m, v)\n    {\n        let result = Matrix.zero();\n        result[0 * 4 + 0] = m[0 * 4 + 0] * v[0];\n        result[0 * 4 + 1] = m[0 * 4 + 1] * v[0];\n        result[0 * 4 + 2] = m[0 * 4 + 2] * v[0];\n        result[0 * 4 + 3] = m[0 * 4 + 3] * v[0];\n\n        result[1 * 4 + 0] = m[1 * 4 + 0] * v[1];\n        result[1 * 4 + 1] = m[1 * 4 + 1] * v[1];\n        result[1 * 4 + 2] = m[1 * 4 + 2] * v[1];\n        result[1 * 4 + 3] = m[1 * 4 + 3] * v[1];\n\n        result[2 * 4 + 0] = m[2 * 4 + 0] * v[2];\n        result[2 * 4 + 1] = m[2 * 4 + 1] * v[2];\n        result[2 * 4 + 2] = m[2 * 4 + 2] * v[2];\n        result[2 * 4 + 3] = m[2 * 4 + 3] * v[2];\n\n        result[3 * 4 + 0] = m[3 * 4 + 0];\n        result[3 * 4 + 1] = m[3 * 4 + 1];\n        result[3 * 4 + 2] = m[3 * 4 + 2];\n        result[3 * 4 + 3] = m[3 * 4 + 3];\n        return result;\n    }\n\n    static vectorMultiply(m, v)\n    {\n        let result = [0, 0, 0, 0];\n        result[0] = m[0 * 4 + 0] * v[0] + m[0 * 4 + 1] * v[1] + m[0 * 4 + 2] * v[2] + m[0 * 4 + 3] * v[3];\n        result[1] = m[1 * 4 + 0] * v[0] + m[1 * 4 + 1] * v[1] + m[1 * 4 + 2] * v[2] + m[1 * 4 + 3] * v[3];\n        result[2] = m[2 * 4 + 0] * v[0] + m[2 * 4 + 1] * v[1] + m[2 * 4 + 2] * v[2] + m[2 * 4 + 3] * v[3];\n        result[3] = m[3 * 4 + 0] * v[0] + m[3 * 4 + 1] * v[1] + m[3 * 4 + 2] * v[2] + m[3 * 4 + 3] * v[3];\n        return result;\n    }\n}\n","\nexport default class Obj\n{\n    static get enable() { return 1; }\n    static get disable(){ return 0; }\n\n    constructor(name, level, status)\n    {\n        this.__name = name;\n        this.__level = level || 0;\n        this.__status = status;\n    }\n\n    get name() { return this.__name; }\n\n    set status(v){ this.__status = v; }\n\n    render(gl, model, level) {\n        console.log(\"render\");\n    }\n\n    init(gl) {\n        console.log(\"init\");\n    }\n}\n","\nexport default class Objects\n{\n    constructor()\n    {\n        this.__objects = new Map();\n    }\n\n    add(o)\n    {\n        this.__objects.set(o.name, o);\n    }\n\n    init(gl)\n    {\n        this.__objects.forEach(o => {\n            o.init(gl);\n\n        });\n    }\n\n    render(gl)\n    {\n        this.__objects.forEach(o => {\n            o.render(gl);\n        });\n    }\n}\n","import Vertices from './vertices.js';\nimport Buffer from './buffer.js';\nimport Obj from './obj.js';\nimport Matrix from './matrix.js';\nimport Vertex from './vertex.js';\nimport Indices from './indices.js';\n\nexport default class Primitive extends Obj\n{\n    constructor(name, level, status)\n    {\n        super(name, level, status);\n        this.__vertices = new Vertices();\n        this.__buffer = new Buffer();\n        this.__program = null;\n        this.__indices = null;\n    }\n\n    push(o)\n    {\n        this.__vertices.push(o);\n    }\n\n    serialize()\n    {\n        if(!this.__buffer.size)\n        {\n            this.__vertices.serialize(this.__buffer);\n        }\n    }\n\n    init(gl)\n    {\n        this.__program.init(gl);\n        if(this.__indices)\n        {\n            this.__indices.init(gl);\n        }\n        this.__buffer.init(gl);\n    }\n\n    render(gl, model, level){\n        if(this.__status)\n        {\n            if(this.__level === level)\n            {\n                gl.useProgram(this.__program.id);\n                this.__program.uniforms.forEach((value, name) => {\n                    if(name === \"mvp\")\n                    {\n                        let fovy = 45 * 0.01745329251994329576923690768489;\n                        let aspect = gl.canvas.width / gl.canvas.height;\n                        let near = 0.1;\n                        let far = 1000;\n                        let projection = Matrix.perspective(fovy, aspect, near, far);\n                        let view = Matrix.lookat([0, 0, 90, 1], [0, 0, 0, 0], [0, 1, 0, 0]);\n                        // let model = Matrix.identity();\n                        let mvp = Matrix.multiply(Matrix.multiply(model, view), projection);\n                        gl.uniformMatrix4fv(value, false, new Float32Array(mvp));\n                    }\n                    else if(name === \"cameraPos\")\n                    {\n                        gl.uniform4fv(value, [0, 0, 90, 0]);\n                    }\n                    else if(name === \"lightColor\")\n                    {\n                        gl.uniform4fv(value, [1, 1, 1, 1]);\n                    }\n                    else if(name === \"lightPos\")\n                    {\n                        gl.uniform4fv(value, [18, 4, 3, 1]);\n                    }\n                    else if(name === \"ambientStrength\")\n                    {\n                        gl.uniform1f(value, 0.8);\n                    }\n                    else\n                    {\n                        throw new Error();\n                    }\n                });\n                this.__program.attributes.forEach((value, name) => {\n                    if(value >= 0)\n                    {\n                        gl.enableVertexAttribArray(value);\n                        this.buffer.bind(gl);\n                        if(name === \"vertexPosition\")\n                        {\n                            gl.vertexAttribPointer(value, 4, gl.FLOAT, false, Vertex.stride, 0);\n                        }\n                        else if(name === \"vertexNormal\")\n                        {\n                            gl.vertexAttribPointer(value, 4, gl.FLOAT, false, Vertex.stride, 4 * 4);\n                        }\n                    }\n                });\n                // console.log(this.__vertices.size);\n                this.buffer.bind(gl);\n                if(this.__indices)\n                {\n                    this.__indices.bind(gl);\n                    gl.drawElements(gl.TRIANGLES, this.__indices.size, gl.UNSIGNED_SHORT, 0);\n                }\n                else\n                {\n                    gl.drawArrays(gl.TRIANGLES, 0, this.__vertices.size);\n                }\n            }\n        }\n    }\n\n    get name() { return this.__name; }\n    get vertices() { return this.__vertices; }\n    get buffer(){ return this.__buffer; }\n\n    set mode(v){ this.__vertices.mode = v; }\n    set target(v){ this.__buffer.target = v; }\n    set usage(v){ this.__buffer.usage = v; }\n    set indices(v){ this.__indices = new Indices(v); }\n    set status(v){ this.__status = v; }\n    set program(v){ this.__program = v; }\n}\n","import Primitive from '../primitive.js';\nimport Vertex from '../vertex.js';\nimport Vertices from '../vertices.js';\nimport Buffer from '../buffer.js';\nimport Matrix from '../matrix.js';\nimport Vector from '../vector.js';\n\nexport default class Cube extends Primitive\n{\n    static load(name, program, application)\n    {\n        return new Promise((resolve, reject) => {\n            let o = new Cube(name, 0, 1, application.programs.get(program));\n            o.serialize();\n            application.objects.add(o);\n            resolve(o);\n        });\n    }\n\n    constructor(name, level, status, program)\n    {\n        super(name, level, status);\n\n        this.mode = Vertices.triangle;\n        this.target = Buffer.array;\n        this.usage = [Buffer.statical, Buffer.draw];\n        this.__program = program;\n\n        this.push(new Vertex([-1.0,-1.0,-1.0, 1.0], [-1.0,  0.0,  0.0, 0.0]));\n        this.push(new Vertex([-1.0,-1.0, 1.0, 1.0], [-1.0,  0.0,  0.0, 0.0]));\n        this.push(new Vertex([-1.0, 1.0, 1.0, 1.0], [-1.0,  0.0,  0.0, 0.0]));\n\n        this.push(new Vertex([ 1.0, 1.0,-1.0, 1.0], [ 0.0,  0.0, -1.0, 0.0]));\n        this.push(new Vertex([-1.0,-1.0,-1.0, 1.0], [ 0.0,  0.0, -1.0, 0.0]));\n        this.push(new Vertex([-1.0, 1.0,-1.0, 1.0], [ 0.0,  0.0, -1.0, 0.0]));\n\n        this.push(new Vertex([ 1.0,-1.0, 1.0, 1.0], [ 0.0, -1.0,  0.0, 0.0]));\n        this.push(new Vertex([-1.0,-1.0,-1.0, 1.0], [ 0.0, -1.0,  0.0, 0.0]));\n        this.push(new Vertex([ 1.0,-1.0,-1.0, 1.0], [ 0.0, -1.0,  0.0, 0.0]));\n\n        this.push(new Vertex([ 1.0, 1.0,-1.0, 1.0], [ 0.0,  0.0, -1.0, 0.0]));\n        this.push(new Vertex([ 1.0,-1.0,-1.0, 1.0], [ 0.0,  0.0, -1.0, 0.0]));\n        this.push(new Vertex([-1.0,-1.0,-1.0, 1.0], [ 0.0,  0.0, -1.0, 0.0]));\n\n        this.push(new Vertex([-1.0,-1.0,-1.0, 1.0], [-1.0,  0.0,  0.0, 0.0]));\n        this.push(new Vertex([-1.0, 1.0, 1.0, 1.0], [-1.0,  0.0,  0.0, 0.0]));\n        this.push(new Vertex([-1.0, 1.0,-1.0, 1.0], [-1.0,  0.0,  0.0, 0.0]));\n\n        this.push(new Vertex([ 1.0,-1.0, 1.0, 1.0], [ 0.0, -1.0,  0.0, 0.0]));\n        this.push(new Vertex([-1.0,-1.0, 1.0, 1.0], [ 0.0, -1.0,  0.0, 0.0]));\n        this.push(new Vertex([-1.0,-1.0,-1.0, 1.0], [ 0.0, -1.0,  0.0, 0.0]));\n\n        this.push(new Vertex([-1.0, 1.0, 1.0, 1.0], [ 0.0,  0.0,  1.0, 0.0]));\n        this.push(new Vertex([-1.0,-1.0, 1.0, 1.0], [ 0.0,  0.0,  1.0, 0.0]));\n        this.push(new Vertex([ 1.0,-1.0, 1.0, 1.0], [ 0.0,  0.0,  1.0, 0.0]));\n\n        this.push(new Vertex([ 1.0, 1.0, 1.0, 1.0], [ 1.0,  0.0,  0.0, 0.0]));\n        this.push(new Vertex([ 1.0,-1.0,-1.0, 1.0], [ 1.0,  0.0,  0.0, 0.0]));\n        this.push(new Vertex([ 1.0, 1.0,-1.0, 1.0], [ 1.0,  0.0,  0.0, 0.0]));\n\n        this.push(new Vertex([ 1.0,-1.0,-1.0, 1.0], [ 1.0,  0.0,  0.0, 0.0]));\n        this.push(new Vertex([ 1.0, 1.0, 1.0, 1.0], [ 1.0,  0.0,  0.0, 0.0]));\n        this.push(new Vertex([ 1.0,-1.0, 1.0, 1.0], [ 1.0,  0.0,  0.0, 0.0]));\n\n        this.push(new Vertex([ 1.0, 1.0, 1.0, 1.0], [ 0.0,  1.0,  0.0, 0.0]));\n        this.push(new Vertex([ 1.0, 1.0,-1.0, 1.0], [ 0.0,  1.0,  0.0, 0.0]));\n        this.push(new Vertex([-1.0, 1.0,-1.0, 1.0], [ 0.0,  1.0,  0.0, 0.0]));\n\n        this.push(new Vertex([ 1.0, 1.0, 1.0, 1.0], [ 0.0,  1.0,  0.0, 0.0]));\n        this.push(new Vertex([-1.0, 1.0,-1.0, 1.0], [ 0.0,  1.0,  0.0, 0.0]));\n        this.push(new Vertex([-1.0, 1.0, 1.0, 1.0], [ 0.0,  1.0,  0.0, 0.0]));\n\n        this.push(new Vertex([ 1.0, 1.0, 1.0, 1.0], [ 0.0,  0.0,  1.0, 0.0]));\n        this.push(new Vertex([-1.0, 1.0, 1.0, 1.0], [ 0.0,  0.0,  1.0, 0.0]));\n        this.push(new Vertex([ 1.0,-1.0, 1.0, 1.0], [ 0.0,  0.0,  1.0, 0.0]));\n    }\n\n    get name() { return this.__name; }\n    get program() { return this.__program; }\n    get buffer(){ return this.__buffer; }\n\n    set mode(v){ this.__vertices.mode = v; }\n    set target(v){ this.__buffer.target = v; }\n    set usage(v){ this.__buffer.usage = v; }\n    set program(o){ this.__program = o; }\n\n    render(gl)\n    {\n        gl.useProgram(this.__program.id);\n        this.__program.uniforms.forEach((value, name) => {\n            if(name === \"mvp\")\n            {\n                let fovy = 45 * 0.01745329251994329576923690768489;\n                let aspect = gl.canvas.width / gl.canvas.height;\n                let near = 0.1;\n                let far = 1000;\n                let projection = Matrix.perspective(fovy, aspect, near, far);\n                let view = Matrix.lookat([4, 3, 3, 0], [0, 0, 0, 0], [0, 1, 0, 0]);\n                let model = Matrix.identity();\n                let mvp = Matrix.multiply(Matrix.multiply(model,view), projection);\n                gl.uniformMatrix4fv(value, false, new Float32Array(mvp));\n            }\n            else if(name === \"cameraPos\")\n            {\n                gl.uniform4fv(value, [4, 3, 3, 0]);\n            }\n            else if(name === \"lightColor\")\n            {\n                gl.uniform4fv(value, [1, 1, 1, 1]);\n            }\n            else if(name === \"lightPos\")\n            {\n                gl.uniform4fv(value, [18, 4, 3, 1]);\n            }\n            else if(name === \"ambientStrength\")\n            {\n                gl.uniform1f(value, 0.8);\n            }\n            else\n            {\n                throw new Error();\n            }\n        });\n        this.__program.attributes.forEach((value, name) => {\n            if(value >= 0)\n            {\n                gl.enableVertexAttribArray(value);\n                this.buffer.bind(gl);\n                if(name === \"vertexPosition\")\n                {\n                    gl.vertexAttribPointer(value, 4, gl.FLOAT, false, Vertex.stride, 0);\n                }\n                else if(name === \"vertexNormal\")\n                {\n                    gl.vertexAttribPointer(value, 4, gl.FLOAT, false, Vertex.stride, 4 * 4);\n                }\n            }\n        });\n        gl.drawArrays(gl.TRIANGLES, 0, this.__vertices.size);\n    }\n}\n","import Primitive from '../primitive.js';\nimport Vertex from '../vertex.js';\nimport Vertices from '../vertices.js';\nimport Buffer from '../buffer.js';\n\nexport default class Triangle extends Primitive\n{\n    static load(name, program, application)\n    {\n        return new Promise((resolve, reject) => {\n            let o = new Triangle(name, 0, 1, application.programs.get(program));\n            o.serialize();\n            application.objects.add(o);\n            resolve(o);\n        });\n    }\n\n    constructor(name, level, status, program)\n    {\n        super(name, level, status);\n\n        this.mode = Vertices.triangle;\n        this.target = Buffer.array;\n        this.usage = [Buffer.statical, Buffer.draw];\n        this.program = program;\n\n        this.push(new Vertex([ 0.0, 0.5, 0.0, 1.0], [ 0.0,  0.0,  1.0, 0.0]));\n        this.push(new Vertex([-0.5,-0.5, 0.0, 1.0], [ 0.0,  0.0,  1.0, 0.0]));\n        this.push(new Vertex([ 0.5,-0.5, 0.0, 1.0], [ 0.0,  0.0,  1.0, 0.0]));\n\n\n    }\n\n    get name() { return this.__name; }\n    get program() { return this.__program; }\n    get buffer(){ return this.__buffer; }\n\n    set mode(v){ this.__vertices.mode = v; }\n    set target(v){ this.__buffer.target = v; }\n    set usage(v){ this.__buffer.usage = v; }\n    set program(o){ this.__program = o; }\n\n    render(gl)\n    {\n        console.log(this.program.id);\n        console.log(\"render\");\n        gl.useProgram(this.program.id);\n        this.program.uniforms.forEach((value, name) => {\n            // [\"mvp\", \"cameraPos\", \"lightColor\", \"lightPos\", \"ambientStrength\"]\n            // console.log(name);\n        });\n        this.program.attributes.forEach((value, name) => {\n            console.log(name);\n            gl.enableVertexAttribArray(value);\n            this.buffer.bind(gl);\n            if(name === \"vertexPosition\")\n            {\n                gl.vertexAttribPointer(value, 4, gl.FLOAT, false, Vertex.stride, 0);\n                console.log(\"position\");\n            }\n            else if(name === \"vertexNormal\")\n            {\n                gl.vertexAttribPointer(value, 4, gl.FLOAT, false, Vertex.stride, 4 * 4);\n                console.log(\"normal\");\n            }\n        });\n        gl.drawArrays(gl.TRIANGLES, 0, this.__vertices.size);\n    }\n}\n","\nexport default class Program\n{\n    static load(name, shaders, uniforms, attributes, application)\n    {\n        return new Promise((resolve, reject) => {\n            let o = new Program(name, shaders, uniforms, attributes);\n            if(!application.programs.get(name))\n            {\n                application.programs.set(name, o);\n                resolve(o);\n            }\n            else\n            {\n                reject(new Error());\n            }\n        });\n    }\n\n    constructor(name, shaders, uniforms, attributes)\n    {\n        this.__name = name;\n        this.__id = 0;\n        this.__shaders = shaders || new Array();\n        this.__uniforms = uniforms ? new Map(uniforms.map(o => [o, null])) : new Map();\n        this.__attributes = attributes ? new Map(attributes.map(o => [o, null])) : new Map();\n    }\n\n    create(gl, application)\n    {\n        if(!this.__id)\n        {\n            this.__id = gl.createProgram();\n            this.__shaders.forEach(name => {\n                let o = application.shaders.get(name);\n                o.attach(gl, this.__id);\n            });\n            gl.linkProgram(this.__id);\n            if(gl.getProgramParameter(this.__id, gl.LINK_STATUS))\n            {\n                this.__shaders.forEach(name => {\n                    let o = application.shaders.get(name);\n                    o.detach(gl, this.__id);\n                });\n                return this;\n            }\n            else\n            {\n                throw new Error();\n            }\n        }\n        else\n        {\n            throw new Error();\n        }\n    }\n\n    init(gl)\n    {\n        this.__attributes.forEach((value, name) => this.__attributes.set(name, gl.getAttribLocation(this.__id, name)));\n        this.__uniforms.forEach((value, name) => this.__uniforms.set(name, gl.getUniformLocation(this.__id, name)));\n    }\n\n    get id(){ return this.__id; }\n    get attributes(){ return this.__attributes; }\n    get uniforms(){ return this.__uniforms; }\n}\n","\nexport default class Projection\n{\n    constructor() {\n        this.__fovy;\n        this.__aspect;\n        this.__near;\n        this.__far;\n        this.__matrix;\n    }\n}\n","\n\nexport default class Shader\n{\n    static get none() { return 0; }\n    static get vertex() { return 1; }\n    static get fragment() { return 2; }\n    static get compute() { return 3; }\n    static get geometry() { return 4; }\n    static get tessellation() { return 5; }\n    static get control() { return 1; }\n    static get evaluation() { return 2; }\n\n    static load(path, name, category, type, application)\n    {\n        return new Promise((resolve, reject) => {\n            let w = new Worker('/js/homeworld2/shader.load.js');\n            w.postMessage({path});\n            w.onmessage = (event) => {\n                if(event.data.finish)\n                {\n                    if(!event.data.error)\n                    {\n                        resolve(application.shader(new Shader(name, category, type, event.data.code)));\n                    }\n                    else\n                    {\n                        reject(e);\n                    }\n                    w.terminate();\n                    w = null;\n                }\n            };\n        });\n    }\n\n    static type(gl, category, type)\n    {\n        switch(category)\n        {\n            case Shader.vertex:             return gl.VERTEX_SHADER;\n            case Shader.fragment:           return gl.FRAGMENT_SHADER;\n            case Shader.compute:            throw new Error();\n            case Shader.geometry:           throw new Error();\n            case Shader.tessellation:       throw new Error();\n            default:                        throw new Error();\n        }\n    }\n\n    constructor(name, category, type, code) {\n        this.__name = name;\n        this.__category = category;\n        this.__type = type || Shader.none;\n        this.__id = 0;\n        this.__code = code;\n    }\n\n    get name(){ return this.__name; }\n    get id(){ return this.__id; }\n\n    attach(gl, program)\n    {\n        if(!this.__id)\n        {\n            this.__id = gl.createShader(Shader.type(gl, this.__category, this.__type));\n            gl.shaderSource(this.__id, this.__code);\n            gl.compileShader(this.__id);\n            if(!gl.getShaderParameter(this.__id, gl.COMPILE_STATUS))\n            {\n                // console.log(gl.getShaderInfoLog(this.__id));\n                throw new Error();\n            }\n            gl.attachShader(program, this.__id);\n            return this;\n        }\n        else\n        {\n            throw new Error();\n        }\n    }\n\n    detach(gl)\n    {\n        if(this.__id)\n        {\n            gl.deleteShader(this.__id);\n            this.__id = 0;\n        }\n    }\n}\n","import Light from './light.js';\nimport Camera from './camera.js';\nimport Projection from './projection.js';\n\nexport default class Surface\n{\n    constructor(canvas)\n    {\n        this.__canvas = canvas;\n        this.__context = null;\n        this.__background = [0, 0, 0, 1];\n        this.__references = new Map();\n        this.__light = new Light();\n        this.__camera = new Camera();\n        this.__projection = new Projection();\n\n        this.__canvas.style.backgroundColor = \"black\";\n\n        // background-color : black;\n    }\n\n    init()\n    {\n        if(!this.__context)\n        {\n            this.__context = this.__canvas.getContext(\"webgl\") || this.__canvas.getContext(\"experimental-webgl\");\n            this.__context.viewport(0, 0, this.__canvas.width, this.__canvas.height);\n            this.__context.enable(this.__context.DEPTH_TEST);\n            this.__context.depthFunc(this.__context.LESS);\n            this.__context.enable(this.__context.BLEND);\n            this.__context.blendFunc(this.__context.SRC_ALPHA, this.__context.ONE_MINUS_SRC_ALPHA);\n        }\n    }\n\n    get gl() { return this.__context; }\n\n    get background(){ return this.__background; }\n}\n","\nconst __degree = 57.295779513082320876798154814105;\nconst __radian = 0.01745329251994329576923690768489;\n\nexport default class Vector\n{\n\n    static degree(o)\n    {\n        let result = [0, 0, 0, 0];\n        result[0] = o[0] * __degree;\n        result[1] = o[1] * __degree;\n        result[2] = o[2] * __degree;\n        result[3] = o[3] * __degree;\n        return result;\n    }\n\n    static radian(o)\n    {\n        let result = [0, 0, 0, 0];\n        result[0] = o[0] * __radian;\n        result[1] = o[1] * __radian;\n        result[2] = o[2] * __radian;\n        result[3] = o[3] * __radian;\n        return result;\n    }\n\n    static dot(x, y)\n    {\n        let result = 0;\n        for(let i = 0; i < 4; i++)\n        {\n            result += (x[i] * y[i]);\n        }\n        return result;\n    }\n\n    static normalize(o)\n    {\n        let dot = Math.sqrt(Vector.dot(o, o));\n        let result = [0, 0, 0, 0];\n        for(let i = 0; i < 4; i++)\n        {\n            result[i] = (o[i]/dot);\n        }\n        return result;\n    }\n\n    static cross(x, y)\n    {\n        let result = [0, 0, 0, 0];\n        result[0] = (x[1] * y[2] - x[2] * y[1]);\n        result[1] = (x[2] * y[0] - x[0] * y[2]);\n        result[2] = (x[0] * y[1] - x[1] * y[0]);\n        return result;\n    }\n\n    static minus(x, y)\n    {\n        let result = [0, 0, 0, 0];\n        for(let i = 0; i < 4; i++)\n        {\n            result[i] = (x[i] - y[i]);\n        }\n        return result;\n    }\n\n    static plus(x, y)\n    {\n        let result = [0, 0, 0, 0];\n        for(let i = 0; i < 4; i++)\n        {\n            result[i] = (x[i] + y[i]);\n        }\n        return result;\n    }\n\n    static multiply(v, c)\n    {\n        let result = [0, 0, 0, 0];\n        for(let i = 0; i < 4; i++)\n        {\n            result[i] = v[i] * c;\n        }\n        return result;\n    }\n}\n","\nexport default class Vertex\n{\n    static get stride() { return 88; }\n\n    constructor(position, normal, color)\n    {\n        this.position = position || [0, 0, 0, 1];\n        this.normal   = normal || [0, 0, 0, 0];\n        this.color    = color || [0, 0, 0, 1];\n        this.texture  = [0, 0];\n        this.tangent  = [0, 0, 0, 0];\n        this.binormal = [0, 0, 0, 0];\n    }\n}\n","\nexport default class Vertices\n{\n    static get none(){ return 0; }\n    static get point(){ return 1; }\n    static get line(){ return 2; }\n    static get patch(){ return 3; }\n    static get triangle(){ return 4; }\n\n    static get strip(){ return 1; }\n    static get loop(){ return 2; }\n    static get fan(){ return 3; }\n\n    static get adjacent(){ return 1; }\n\n    static modeFromStr(s)\n    {\n        if(s === \"triangle\")\n        {\n            return Vertices.triangle;\n        }\n        else\n        {\n            throw new Error();\n        }\n        return s;\n    }\n\n    constructor()\n    {\n        this.__mode = Vertices.none;\n        this.__type = Vertices.none;\n        this.__adjacency = Vertices.none;\n        this.__id = Vertices.none;\n        this.__vertices = [];\n    }\n\n    push(v)\n    {\n        this.__vertices.push(v);\n    }\n\n    set(v)\n    {\n        this.__vertices = v;\n    }\n\n    serialize(buffer)\n    {\n        let array = [];\n        let total = 0;\n\n        this.__vertices.forEach(vertex => {\n            let result = [];\n            array.push(new Float32Array(result.concat(vertex.position,\n                                                      vertex.normal,\n                                                      vertex.color,\n                                                      vertex.texture,\n                                                      vertex.tangent,\n                                                      vertex.binormal)));\n            total += array[array.length - 1].length;\n        });\n        let o = new Float32Array(total);\n        total = 0;\n        array.forEach(value => {\n            o.set(value, total);\n            total += value.length;\n        });\n        buffer.data = o;\n    }\n    get size(){ return this.__vertices.length; }\n    set mode(v){ this.__mode = v; }\n}\n"],"sourceRoot":""}